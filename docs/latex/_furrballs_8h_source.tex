\doxysection{Furrballs.\+h}
\hypertarget{_furrballs_8h_source}{}\label{_furrballs_8h_source}\index{Furrballs/include/Furrballs.h@{Furrballs/include/Furrballs.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00001}00001\ \textcolor{comment}{/*****************************************************************/}\textcolor{comment}{/**}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ \(\backslash\)file\ \ \ Furrballs.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ \(\backslash\)brief\ Primary\ interface\ for\ the\ Furrball\ library.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ file\ contains\ the\ main\ classes\ and\ functions\ that\ users\ will\ interact\ with\ when\ using\ the\ Furrball\ library.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ The\ library\ provides\ a\ caching\ and\ database\ management\ system\ using\ RocksDB\ and\ various\ caching\ policies.}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ \(\backslash\)author\ The\ Sphynx}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ \(\backslash\)date\ \ \ July\ 2024}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *********************************************************************/}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00011}00011\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00012}00012\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{memory}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00013}00013\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{string}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00014}00014\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{filesystem}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00015}00015\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{thread}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00016}00016\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{rocksdb}\textcolor{preprocessor}{/}\textcolor{preprocessor}{db}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00017}00017\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{rocksdb}\textcolor{preprocessor}{/}\textcolor{preprocessor}{options}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00018}00018\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{rocksdb}\textcolor{preprocessor}{/}\textcolor{preprocessor}{advanced\_cache}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00019}00019\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{unordered\_map}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00020}00020\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{type\_traits}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00021}00021\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{Logger}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00022}00022\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{mutex}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00023}00023\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{optional}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00025}00025\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_WIN32}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00026}00026\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{windows}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00027}00027\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00028}00028\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{unistd}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00029}00029\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00031}00031\ \textcolor{comment}{//Furrball,\ compact\ and\ filled\ with\ spit\ !}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00032}\mbox{\hyperlink{namespace_furrball}{00032}}\ \textcolor{keyword}{namespace}\ \mbox{\hyperlink{namespace_furrball}{Furrball}}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00033}\mbox{\hyperlink{class_furrball_1_1_memory_manager}{00033}}\ \ \ \ \ \textcolor{keyword}{class}\ \mbox{\hyperlink{class_furrball_1_1_memory_manager}{MemoryManager}}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00034}00034\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{static}\ std::mutex\ FreeingMutex;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00036}00036\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{static}\ std::mutex\ ProtectMutex;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00037}00037\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00038}\mbox{\hyperlink{class_furrball_1_1_memory_manager_a0780b743ec5f47a75593c89825a97a2f}{00038}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{class_furrball_1_1_memory_manager_a0780b743ec5f47a75593c89825a97a2f}{AllocateMemory}}(size\_t\ totalSize)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00039}00039\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_WIN32}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ buffer\ =\ VirtualAlloc(\textcolor{keywordtype}{nullptr},\ totalSize,\ MEM\_COMMIT\ |\ MEM\_RESERVE,\ PAGE\_READWRITE);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!buffer)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00044}00044\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ pageSize\ =\ sysconf(\_SC\_PAGESIZE);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ buffer\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (posix\_memalign(\&buffer,\ pageSize,\ totalSize)\ !=\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00050}00050\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ buffer;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00052}00052\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ .}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00056}\mbox{\hyperlink{class_furrball_1_1_memory_manager_a4ef20a25d37f3435884104f89f0dfb9e}{00056}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_furrball_1_1_memory_manager_a4ef20a25d37f3435884104f89f0dfb9e}{ProtectMemory}}(\textcolor{keywordtype}{void}*\ buffer,\ \textcolor{keyword}{const}\ size\_t\&\ size)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ std::lock\_guard<std::mutex>\ lock(ProtectMutex);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00058}00058\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_WIN32}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ DWORD\ oldProtect;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!VirtualProtect(buffer,\ size,\ PAGE\_READWRITE,\ \&oldProtect))\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_logger}{Logger}}\mbox{\hyperlink{class_furrball_1_1_logger_a3f7888501c07399bd4149ee8d67a6687}{::}}\mbox{\hyperlink{class_furrball_1_1_logger_a3f7888501c07399bd4149ee8d67a6687}{getInstance}}\mbox{\hyperlink{class_furrball_1_1_logger_a3f7888501c07399bd4149ee8d67a6687}{(}}\mbox{\hyperlink{class_furrball_1_1_logger_a3f7888501c07399bd4149ee8d67a6687}{)}}\mbox{\hyperlink{class_furrball_1_1_logger_a0adc83848b0eedbac34a21f82755aad8}{.}}\mbox{\hyperlink{class_furrball_1_1_logger_a0adc83848b0eedbac34a21f82755aad8}{error}}\mbox{\hyperlink{class_furrball_1_1_logger_a0adc83848b0eedbac34a21f82755aad8}{(}}\textcolor{stringliteral}{"{}Failed\ to\ set\ memory\ protection\ on\ Windows"{}}\mbox{\hyperlink{class_furrball_1_1_logger_a0adc83848b0eedbac34a21f82755aad8}{)}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00064}00064\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mprotect(buffer,\ size,\ PROT\_READ\ |\ PROT\_WRITE)\ !=\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Logger::getInstance().error(\textcolor{stringliteral}{"{}Failed\ to\ set\ memory\ protection\ on\ Linux"{}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00069}00069\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00071}00071\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00072}00072\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00073\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Frees\ allocated\ buffer.}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ }}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ FreeMemory\ is\ a\ blocking\ operation.}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00077}\mbox{\hyperlink{class_furrball_1_1_memory_manager_aada6c7bdde346769e9cd93c0ec89dd00}{00077}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_memory_manager_aada6c7bdde346769e9cd93c0ec89dd00}{FreeMemory}}(\textcolor{keywordtype}{void}*\ buffer)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ std::lock\_guard<std::mutex>\ lock(FreeingMutex);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00079}00079\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_WIN32}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ VirtualFree(buffer,\ 0,\ MEM\_RELEASE);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00081}00081\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ free(buffer);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00083}00083\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00084}00084\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Returns\ the\ available\ memory,\ works\ for\ both\ Windows\ and\ Unix}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00088}\mbox{\hyperlink{class_furrball_1_1_memory_manager_a63b3ca5762785889ed4e072fe4281fb5}{00088}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ size\_t\ \mbox{\hyperlink{class_furrball_1_1_memory_manager_a63b3ca5762785889ed4e072fe4281fb5}{GetAvailableMemory}}()\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00089}00089\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifdef}\ \_WIN32}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ MEMORYSTATUSEX\ status;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ status.dwLength\ =\ \textcolor{keyword}{sizeof}(status);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ GlobalMemoryStatusEx(\&status);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ status.ullAvailPhys;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00094}00094\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{else}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ pages\ =\ sysconf(\_SC\_AVPHYS\_PAGES);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ page\_size\ =\ sysconf(\_SC\_PAGE\_SIZE);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pages\ *\ page\_size;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00098}00098\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00099}00099\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00101\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Attempts\ to\ allocate\ increasingly\ larger\ blocks\ of\ memory\ until\ it\ fails,\ then\ returns\ the\ size\ of\ the\ largest\ successful\ allocation.}}
\DoxyCodeLine{00102\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00103}\mbox{\hyperlink{class_furrball_1_1_memory_manager_a576123628e27b93d84135492de6ec62c}{00103}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ size\_t\ \mbox{\hyperlink{class_furrball_1_1_memory_manager_a576123628e27b93d84135492de6ec62c}{GetLargestContiguousBlock}}()\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ step\ =\ 1024\ *\ 1024;\ \textcolor{comment}{//\ Start\ with\ 1MB}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ maxBlockSize\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ buffer\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer\ =\ \mbox{\hyperlink{class_furrball_1_1_memory_manager_a0780b743ec5f47a75593c89825a97a2f}{AllocateMemory}}\mbox{\hyperlink{class_furrball_1_1_memory_manager_a0780b743ec5f47a75593c89825a97a2f}{(}}maxBlockSize\ +\ step\mbox{\hyperlink{class_furrball_1_1_memory_manager_a0780b743ec5f47a75593c89825a97a2f}{)}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (buffer)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_memory_manager_aada6c7bdde346769e9cd93c0ec89dd00}{FreeMemory}}\mbox{\hyperlink{class_furrball_1_1_memory_manager_aada6c7bdde346769e9cd93c0ec89dd00}{(}}buffer\mbox{\hyperlink{class_furrball_1_1_memory_manager_aada6c7bdde346769e9cd93c0ec89dd00}{)}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ maxBlockSize\ +=\ step;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ maxBlockSize;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00120}00120\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00121}00121\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00123}00123\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Implements\ the\ ARC\ eviction\ policy}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ \ \ \ \ *\ TODO:\ Implement\ Adaptive\ Memory\ Pooling\ (AMP)}}
\DoxyCodeLine{00126\ \textcolor{comment}{\ \ \ \ \ *\ You\ can\ create\ and\ manage\ your\ own\ cache\ separately\ by\ instantiating\ a\ Policy\ object\ and\ using\ it.}}
\DoxyCodeLine{00127\ \textcolor{comment}{\ \ \ \ \ *\ @see\ S3FIFOPolicy}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ \ \ \ \ *\ @see\ LRUPolicy}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ \ \ \ \ *\ @see\ LFUPolicy}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00131}00131\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Key,\ \textcolor{keyword}{class}\ Value>}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00132}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{00132}}\ \ \ \ \ \textcolor{keyword}{class}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{ARCPolicy}}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00133}00133\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00134}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a05fdf7638bba6c4f40cb6360e608154d}{00134}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}(*\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a05fdf7638bba6c4f40cb6360e608154d}{EvictionCallback}})(Key\&);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00135}00135\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00136}00136\ \ \ \ \ \ \ \ \ std::list<Key>\ t1;\ \ \textcolor{comment}{//\ Recently\ added}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00137}00137\ \ \ \ \ \ \ \ \ std::list<Key>\ t2;\ \ \textcolor{comment}{//\ Recently\ used}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00138}00138\ \ \ \ \ \ \ \ \ std::list<Key>\ b1;\ \ \textcolor{comment}{//\ Ghost\ entries\ for\ t1}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00139}00139\ \ \ \ \ \ \ \ \ std::list<Key>\ b2;\ \ \textcolor{comment}{//\ Ghost\ entries\ for\ t2}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00140}00140\ \ \ \ \ \ \ \ \ std::unordered\_map<Key,\ Value>\ map;\ \ \textcolor{comment}{//\ Key\ to\ value\ mapping}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00141}00141\ \ \ \ \ \ \ \ \ std::list<Key>\ Window;\ \textcolor{comment}{//\ t1\ +\ t2\ (the\ cache)}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00142}00142\ \ \ \ \ \ \ \ \ std::list<Key>\ GhostEntries;\ \textcolor{comment}{//\ b1\ +\ b2\ Ghost\ entries}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00143}00143\ \ \ \ \ \ \ \ \ size\_t\ capacity;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00144}00144\ \ \ \ \ \ \ \ \ size\_t\ p;\ \ \textcolor{comment}{//\ Target\ size\ for\ t1}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00145}00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a05fdf7638bba6c4f40cb6360e608154d}{EvictionCallback}}\ evictionCallback\ =\ []()\ \{\};\textcolor{comment}{//NO-\/OP\ by\ default.}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ replace(\textcolor{keyword}{const}\ Key\&\ key)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{empty}}()\ \&\&\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ >\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}}\ ||\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}})\ !=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}()\ \&\&\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ ==\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}})))\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Move\ from\ t1\ to\ b1}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{old}}\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{pop\_back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{push\_front}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{old}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{erase}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{old}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Move\ from\ t2\ to\ b2}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{old}}\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{pop\_back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{push\_front}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{old}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{erase}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{old}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00162}00162\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ evict()\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evictionCallback}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ +\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ >=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}})\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ <\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}})\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evictionCallback}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{back}}())}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{pop\_back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evictionCallback}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{back}}())}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{pop\_back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ +\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ +\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ +\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ >=\ 2\ *\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}})\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ +\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ >\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}})\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evictionCallback}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{back}}())}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{pop\_back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evictionCallback}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{back}}())}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{pop\_back}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00186}00186\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00187}00187\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00188}00188\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00190\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Creates\ a\ cache\ following\ ARC\ policy.}}
\DoxyCodeLine{00191\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @param\ cap\ Capacity\ of\ the\ cache.}}
\DoxyCodeLine{00192\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00193}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a5972757b37d84d8322150d507a7df243}{00193}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a5972757b37d84d8322150d507a7df243}{ARCPolicy}}(size\_t\ cap)\ :\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{cap}}),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}}(1)\ \{\}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00195}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_aa5e59d2fe8f404a4b855e4a83e39b65f}{00195}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_aa5e59d2fe8f404a4b855e4a83e39b65f}{setEvictionCallback}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a05fdf7638bba6c4f40cb6360e608154d}{EvictionCallback}}\ cb)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evictionCallback}}\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{cb}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00197}00197\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00198}00198\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00199\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @return\ true\ if\ the\ key\ exists.}}
\DoxyCodeLine{00200\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00201}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a4ba0005e319eda1ba871a1a01be7764e}{00201}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a4ba0005e319eda1ba871a1a01be7764e}{contains}}(\textcolor{keyword}{const}\ Key\&\ key)\ \textcolor{keyword}{const}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}})\ !=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00203}00203\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00204}00204\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00205\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Promotes\ a\ Key.}}
\DoxyCodeLine{00206\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00207}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a107cc96d89ec81d940bf78c154c438e8}{00207}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a107cc96d89ec81d940bf78c154c438e8}{touch}}(\textcolor{keyword}{const}\ Key\&\ key)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}})\ !=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}())\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{remove}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00210}00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{push\_front}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}})\ !=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}())\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{splice}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}},\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}));}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}})\ !=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}())\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Case\ when\ the\ key\ is\ in\ b1}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}}\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::min(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}},\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}}\ +\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::max(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ /\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}(),\ 1UL));}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{replace}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{remove}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{push\_front}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}[\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}]\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{Value}}();\ \ \textcolor{comment}{//\ Assuming\ default\ constructor\ exists}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{find}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{begin}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}(),\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}})\ !=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{end}}())\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Case\ when\ the\ key\ is\ in\ b2}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}}\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::max(0,\ \textcolor{keyword}{static\_cast}<\textcolor{keywordtype}{int}>(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{p}})\ -\/\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{std}}::max(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ /\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}(),\ 1UL));}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{replace}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{b2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{remove}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t2}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{push\_front}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}[\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}]\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{Value}}();\ \ \textcolor{comment}{//\ Assuming\ default\ constructor\ exists}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00231}00231\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00233\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Adds\ a\ Key-\/Value\ Pair\ the\ the\ cache.}}
\DoxyCodeLine{00234\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00235}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_abf65d3b36e8c2eab470a80db54dc3855}{00235}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_abf65d3b36e8c2eab470a80db54dc3855}{add}}(\textcolor{keyword}{const}\ Key\&\ key,\ \textcolor{keyword}{const}\ Value\&\ value)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{size}}()\ >=\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{capacity}})\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{evict}}();}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{t1}}.\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{push\_front}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}[\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}]\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{value}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00241}00241\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00242}00242\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00243\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Gets\ a\ value\ from\ the\ cache.}}
\DoxyCodeLine{00244\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00245}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a06adb9fe1583709d7fea1db37e21534f}{00245}}\ \ \ \ \ \ \ \ \ Value\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a06adb9fe1583709d7fea1db37e21534f}{get}}(\textcolor{keyword}{const}\ Key\&\ key)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{touch}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}[\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}];}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00248}00248\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00250\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Changes\ a\ value\ if\ it\ exsits\ or\ adds\ it.}}
\DoxyCodeLine{00251\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00252}\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a603dc3052fdde5db5980a0846177e561}{00252}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy_a603dc3052fdde5db5980a0846177e561}{set}}(\textcolor{keyword}{const}\ Key\&\ key,\ \textcolor{keyword}{const}\ Value\&\ value)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{contains}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}))\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{map}}[\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}}]\ =\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{value}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{touch}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{add}}(\mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{key}},\ \mbox{\hyperlink{class_furrball_1_1_a_r_c_policy}{value}});}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00260}00260\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00261}00261\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00262}00262\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00263\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Implements\ the\ S3FIFO\ eviction\ policy}}
\DoxyCodeLine{00264\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00265\ \textcolor{comment}{\ \ \ \ \ *\ You\ can\ Create\ and\ manage\ your\ own\ cache\ seperatly\ by\ instanciating\ a\ Policy\ Object\ and\ use\ it.}}
\DoxyCodeLine{00266\ \textcolor{comment}{\ \ \ \ \ *\ @see\ ARCPolicy}}
\DoxyCodeLine{00267\ \textcolor{comment}{\ \ \ \ \ *\ @see\ LRUPolicy}}
\DoxyCodeLine{00268\ \textcolor{comment}{\ \ \ \ \ *\ @see\ LFUPolicy}}
\DoxyCodeLine{00269\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00270}00270\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Key,\ \textcolor{keyword}{class}\ Value>}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00271}\mbox{\hyperlink{class_furrball_1_1_s3_f_i_f_o_policy}{00271}}\ \ \ \ \ \textcolor{keyword}{class}\ S3FIFOPolicy\ \textcolor{keyword}{final}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00272}00272\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00273}00273\ \ \ \ \ \ \ \ \ std::list<Key>\ queue;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00274}00274\ \ \ \ \ \ \ \ \ std::unordered\_map<Key,\ Value>\ map;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00275}00275\ \ \ \ \ \ \ \ \ size\_t\ capacity;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00276}00276\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00277}00277\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00278}00278\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00279}00279\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00280\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Implements\ the\ LRU\ eviction\ policy}}
\DoxyCodeLine{00281\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00282\ \textcolor{comment}{\ \ \ \ \ *\ You\ can\ Create\ and\ manage\ your\ own\ cache\ seperatly\ by\ instanciating\ a\ Policy\ Object\ and\ use\ it.}}
\DoxyCodeLine{00283\ \textcolor{comment}{\ \ \ \ \ *\ @see\ ARCPolicy}}
\DoxyCodeLine{00284\ \textcolor{comment}{\ \ \ \ \ *\ @see\ S3FIFOPolicy}}
\DoxyCodeLine{00285\ \textcolor{comment}{\ \ \ \ \ *\ @see\ LFUPolicy}}
\DoxyCodeLine{00286\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00287}00287\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Key,\ \textcolor{keyword}{class}\ Value>}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00288}\mbox{\hyperlink{class_furrball_1_1_l_r_u_policy}{00288}}\ \ \ \ \ \textcolor{keyword}{class}\ LRUPolicy\ \textcolor{keyword}{final}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00289}00289\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00290}00290\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00291}00291\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00292\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Implements\ the\ LFU\ eviction\ policy}}
\DoxyCodeLine{00293\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00294\ \textcolor{comment}{\ \ \ \ \ *\ You\ can\ Create\ and\ manage\ your\ own\ cache\ seperatly\ by\ instanciating\ a\ Policy\ Object\ and\ use\ it.}}
\DoxyCodeLine{00295\ \textcolor{comment}{\ \ \ \ \ *\ @see\ ARCPolicy}}
\DoxyCodeLine{00296\ \textcolor{comment}{\ \ \ \ \ *\ @see\ LRUPolicy}}
\DoxyCodeLine{00297\ \textcolor{comment}{\ \ \ \ \ *\ @see\ S3FIFOPolicy}}
\DoxyCodeLine{00298\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00299}00299\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Key,\ \textcolor{keyword}{class}\ Value>}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00300}\mbox{\hyperlink{class_furrball_1_1_l_f_u_policy}{00300}}\ \ \ \ \ \textcolor{keyword}{class}\ LFUPolicy\ \textcolor{keyword}{final}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00301}00301\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00302}00302\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00304}00304\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00305\ \textcolor{comment}{\ \ \ \ *\ @brief\ A\ Cache\ with\ size\_t\ as\ Keys,\ void*\ as\ values\ and\ ARC\ eviction\ policy.}}
\DoxyCodeLine{00306\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00307}00307\ \ \ \ \ \textcolor{comment}{//typedef\ Cache<size\_t,\ void*,\ ARCPolicy>\ ARCCache;}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00308}00308\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00309\ \textcolor{comment}{\ \ \ \ *\ @class\ FurrBall}}
\DoxyCodeLine{00310\ \textcolor{comment}{\ \ \ \ *\ @brief\ Furrballs\ are\ a\ LZ4\ Compressed\ DB\ using\ RocksDB\ with\ Cache\ and\ Paging\ Logic.}}
\DoxyCodeLine{00311\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00312}\mbox{\hyperlink{class_furrball_1_1_furr_ball}{00312}}\ \ \ \ \ \textcolor{keyword}{class}\ FurrBall\ \textcolor{keyword}{final}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00313}00313\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00314}00314\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}\ \mbox{\hyperlink{struct_furr_ball_1_1_impl_detail}{ImplDetail}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00315}00315\ \ \ \ \ \ \ \ \ std::unique\_ptr<ImplDetail>\ DataMembers;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00317}00317\ \ \ \ \ \ \ \ \ size\_t\ PageSize;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00318}00318\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Must\ remain\ POD.}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00319}00319\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00320\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ \(\backslash\)brief\ Page\ Metadata.}}
\DoxyCodeLine{00321\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00322}00322\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}\ Page\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ ptr;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ PageIndex;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00325}00325\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ Page()\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00327}00327\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00329}00329\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ IsLockable()\textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00331}00331\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \string~Page()\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00333}00333\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00335}00335\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00336}00336\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}\ LockablePage\ :\ \textcolor{keyword}{public}\ Page\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ IsLockable()\textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00338}00338\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00339}00339\ \ \ \ \ \ \ \ \ std::list<Page>\ PageList;}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00340}00340\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00341\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Cache\ Object.}}
\DoxyCodeLine{00342\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00343}00343\ \ \ \ \ \ \ \ \ \textcolor{comment}{//ARCPolicy<size\_t,void*>\ ARC\ =\ ARCPolicy<size\_t,void*>();}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00344}00344\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00345}00345\ \ \ \ \ \ \ \ \ FurrBall()\textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00346}00346\ \ \ \ \ \ \ \ \ FurrBall(std::unique\_ptr<ImplDetail>);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00347}00347\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00348}00348\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ size\_t\ floorAddress(size\_t\ address)\textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ address\ \&\ \string~(PageSize\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00350}00350\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00351}00351\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00352}\mbox{\hyperlink{class_furrball_1_1_furr_ball_a2c33754e4a1ac9602fd81a6f86f0f76e}{00352}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_furr_ball_a2c33754e4a1ac9602fd81a6f86f0f76e}{FurrBall}}(\textcolor{keyword}{const}\ FurrBall\&\ cpy)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00353}\mbox{\hyperlink{class_furrball_1_1_furr_ball_a66371916611988ebbea7034e3a706855}{00353}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_furrball_1_1_furr_ball_a66371916611988ebbea7034e3a706855}{FurrBall}}(FurrBall\&\&\ mv)\textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::swap(options,\ mv.options);}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//ARC\ =\ std::move(mv.ARC);}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00356}00356\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00357}00357\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00358\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @brief\ Constructs\ a\ DB\ and\ allocates\ the\ Cache\ (with\ it's\ pages).}}
\DoxyCodeLine{00359\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ }}
\DoxyCodeLine{00360\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ Uses\ Paging\ to\ avoid\ loading\ the\ entire\ DB\ in\ memory\ and\ only\ loads\ following\ the\ ARC\ eviction\ policy}}
\DoxyCodeLine{00361\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @param\ DBpath\ the\ Path\ to\ create\ (or\ load)\ a\ DB.}}
\DoxyCodeLine{00362\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @param\ PageSize\ The\ Page\ size\ in\ bytes.\ }}
\DoxyCodeLine{00363\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ This\ acts\ as\ a\ hint\ to\ calculate\ the\ optimal\ Page\ size,\ the\ result\ will\ be\ equal\ or\ larger\ than\ the\ specified\ size.}}
\DoxyCodeLine{00364\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ Set\ to\ 0\ if\ you\ want\ the\ library\ to\ decide\ the\ optimal\ size.}}
\DoxyCodeLine{00365\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ MUST\ BE\ POWER\ OF\ 2.\ }}
\DoxyCodeLine{00366\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @param\ numPages\ The\ number\ of\ pages\ to\ preallocate.}}
\DoxyCodeLine{00367\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @param\ overwrite\ If\ DBpath\ points\ to\ an\ existing\ DB\ and\ this\ is\ true\ it\ will\ be\ overwritten\ instead\ of\ Loaded.}}
\DoxyCodeLine{00368\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @see\ ARCPolicy}}
\DoxyCodeLine{00369\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00370}00370\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ FurrBall*\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_ad5d9b38144458479d42265591c440b12}{CreateBall}}(std::string\ DBpath,\ size\_t\ PageSize,\ size\_t\ numPages,\ \textcolor{keywordtype}{bool}\ overwrite\ =\ \textcolor{keyword}{false})\textcolor{keyword}{noexcept};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00371}00371\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00372\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ Returns\ a\ pointer\ to\ the\ page\ that\ contains\ the\ vAddress.\ if\ vAddress\ is\ not\ found\ and\ is\ far\ from\ all\ pages\ available}}
\DoxyCodeLine{00373\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ Get()\ doesn't\ create\ an\ entry\ and\ considers\ the\ vAddress\ to\ be\ invalid\ to\ preserve\ "{}contingency"{}.}}
\DoxyCodeLine{00374\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ }}
\DoxyCodeLine{00375\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @param\ vAddress\ a\ pointer\ to\ a\ virtual\ address\ used\ to\ index\ into\ the\ cache.}}
\DoxyCodeLine{00376\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ }}
\DoxyCodeLine{00377\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @returns\ a\ valid\ Pointer\ to\ memory\ on\ success\ or\ nullptr\_t\ on\ error.}}
\DoxyCodeLine{00378\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00379}\mbox{\hyperlink{class_furrball_1_1_furr_ball_a297b453509d0a78a334c250c0e97d8e1}{00379}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_a297b453509d0a78a334c250c0e97d8e1}{Get}}(\textcolor{keywordtype}{void}*\ vAddress)\textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Snap\ to\ page\ border.}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Query\ the\ Cache\ for\ the\ page.}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ present\ return\ it}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//reload\ page\ from\ db\ and\ push\ into\ cache}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00384}00384\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00385}00385\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00386\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Large\ data\ is\ stored\ seperate\ and\ a\ pointer\ to\ it\ is\ added\ to\ the\ cache}}
\DoxyCodeLine{00387\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @param\ buffer\ The\ original\ data,\ a\ pointer\ to\ it\ is\ stored\ in\ the\ cache\ to\ avoid\ copying\ and\ moving\ data.\ Do\ not\ free.}}
\DoxyCodeLine{00388\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @param\ size\ Buffer\ size.}}
\DoxyCodeLine{00389\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00390}00390\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_a74c082b3331794c9f373e803675eeec4}{StoreLargeData}}(\textcolor{keywordtype}{void}*\ buffer,\ size\_t\ size);}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00391}00391\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00392}\mbox{\hyperlink{class_furrball_1_1_furr_ball_ad6949bd988357496f4b2e8602d0f131c}{00392}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LockablePage*\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_ad6949bd988357496f4b2e8602d0f131c}{GenerateLockablePage}}()\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00393}00393\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00394}00394\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00395}00395\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00396}\mbox{\hyperlink{class_furrball_1_1_furr_ball_a0d499c5a651c3955823371096c7f969a}{00396}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Page*\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_a0d499c5a651c3955823371096c7f969a}{SetPageToLockable}}(Page*\ page)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00397}00397\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00398}00398\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00399}00399\ }
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00400}\mbox{\hyperlink{class_furrball_1_1_furr_ball_afac8d7baedb9152b2ce8b961c50b678a}{00400}}\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_afac8d7baedb9152b2ce8b961c50b678a}{LockPage}}(\textcolor{keyword}{const}\ Page*\ page)\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!page-\/>IsLockable())\ \{}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00402}00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//We\ know\ the\ pages\ are\ not\ really\ const\ thus\ this\ cast\ is\ allowed.}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00403}00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ page\ =\ \mbox{\hyperlink{class_furrball_1_1_furr_ball_a0d499c5a651c3955823371096c7f969a}{SetPageToLockable}}\mbox{\hyperlink{class_furrball_1_1_furr_ball_a0d499c5a651c3955823371096c7f969a}{(}}\textcolor{keyword}{const\_cast}<Page*>(page)\mbox{\hyperlink{class_furrball_1_1_furr_ball_a0d499c5a651c3955823371096c7f969a}{)}};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00405}00405\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00406}00406\ \ \ \ \ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00407\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ @brief\ Cleans\ up.}}
\DoxyCodeLine{00408\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00409}00409\ \ \ \ \ \ \ \ \ \string~\mbox{\hyperlink{class_furrball_1_1_furr_ball_aca812eaeb47f21590a4857c505a92a9b}{FurrBall}}()\textcolor{keyword}{noexcept};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00410}00410\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_furrballs_8h_source_l00411}00411\ \}}

\end{DoxyCode}
